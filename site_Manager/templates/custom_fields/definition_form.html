{% extends "baseStructureSM.html" %}
{% block title %}Custom Field Definition{% endblock %}
{% block subtitle %}Custom Field Definition{% endblock %}

{% block SMprofile_content %}
<h2 style="font-size: 24px; margin-bottom: 20px; color: #222; font-family: 'Segoe UI', sans-serif;">
  {% if form.instance.pk %}Edit{% else %}Create{% endif %} Custom Field Definition
</h2>

<form method="post" style="font-family: 'Segoe UI', sans-serif; font-size: 14px;">
  {% csrf_token %}
  {{ form.as_p }}

  <h3 style="font-size: 18px; margin: 10px 0; color: #444;">Field Values</h3>
  {{ formset.management_form }}

  <div style="overflow-x: auto; width: 100%; margin-bottom: 1.5rem;">
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Name</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Int</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Decimal</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Text Style</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Header</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Parent</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Delete</th>
          <th style="background-color: #f0f0f0; border: 1px solid #ccc; padding: 10px; font-weight: bold;">Description</th>
        </tr>
      </thead>
      <tbody>
        {% for form in formset %}
        <tr>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.name }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.int_value }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.dec_value }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.text_style }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.table_header }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.parent_field_value }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.DELETE }}</td>
          <td style="border: 1px solid #ccc; padding: 10px;">{{ form.description }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <button type="submit" style="background-color: #2d6cdf; color: white; border: none; padding: 12px 20px; font-size: 16px; border-radius: 6px; cursor: pointer; transition: background-color 0.3s ease;"
    onmouseover="this.style.backgroundColor='#244f9c'" onmouseout="this.style.backgroundColor='#2d6cdf'">
    Save
  </button>
</form>

<!-- Optional: Mobile media responsiveness (pure CSS) -->
<style>
  @media (max-width: 768px) {
    table {
      font-size: 12px;
    }

    table th,
    table td {
      padding: 6px !important;
      min-width: 100px;
    }

    button {
      width: 100% !important;
      padding: 14px !important;
      font-size: 16px !important;
    }

    h2 {
      font-size: 20px !important;
    }

    h3 {
      font-size: 16px !important;
    }
  }
</style>
{% endblock %}
