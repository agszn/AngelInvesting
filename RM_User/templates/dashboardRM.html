{% extends "baseStructureRM.html" %}
{% block title %}Dashboard{% endblock %}
{% block SubTitleRM %}Dashboard{% endblock %}

{% block RMprofile_content %}
<style>
  .form-group label {
    font-weight: bold;
  }
  .form-control {
    padding: 10px;
    border-radius: 5px;
  }
</style>

<div class="RMbanner">
  <canvas id="paymentChart" height="100"></canvas>
</div>

<div class="RMupload-feild" style="display: flex; flex-wrap: wrap; gap: 20px;">
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Today's Payment Collected</label>
    <input type="text" class="form-control" value="₹{{ total_collected_today }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>10 Days Payment Collected</label>
    <input type="text" class="form-control" value="₹{{ total_collected_10_days }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Month Payment Collected</label>
    <input type="text" class="form-control" value="₹{{ total_collected_month }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Total Invested Amount</label>
    <input type="text" class="form-control" value="₹{{ total_invested }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Total Transactions</label>
    <input type="text" class="form-control" value="{{ total_transactions }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Total Buys</label>
    <input type="text" class="form-control" value="{{ total_buys }}" readonly>
  </div>
  <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">
    <label>Total Sells</label>
    <input type="text" class="form-control" value="{{ total_sells }}" readonly>
  </div>
    <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">

    </div>
    <div class="form-group" style="flex: 1 1 calc(33.33% - 20px);">

    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('paymentChart').getContext('2d');
const chart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: {{ chart_labels|safe }},
    datasets: [{
      label: 'Payments (₹)',
      data: {{ chart_data|safe }},
      borderColor: 'rgba(75, 192, 192, 1)',
      backgroundColor: 'rgba(75, 192, 192, 0.2)',
      tension: 0.3,
      fill: true
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { display: true },
      title: {
        display: true,
        text: 'Payments Collected - Last 10 Days'
      }
    }
  }
});
</script>
{% endblock %}
