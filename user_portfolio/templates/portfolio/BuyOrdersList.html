{% extends "accounts/profile.html" %}
{% block title %}My Profile{% endblock %}

{% block profile_content %}
    <!-- <div style="margin: auto; background: white; border-radius: 10px; max-width: 600px; overflow: hidden;">  -->
      <div style="max-width: 1000px; margin: auto; background: white; padding: 20px; border-radius: 10px;">
        <h3 style="color: #1a3e6e;">Order Summary</h3>

        <div style="margin-bottom: 15px;">
          <input type="text" placeholder="Search or type command..." style="padding: 8px 12px; width: 50%; border-radius: 5px; border: 1px solid #ccc;">
          <button style="margin-left: 10px; color: green; background: none; border: none; font-weight: bold; cursor: pointer;">Buy Order</button>
          <span style="margin-left: 10px; color: #333;">|</span>
          <button style="margin-left: 10px; background: none; border: none; font-weight: bold; cursor: pointer;">Sell Order</button>
        </div>

        <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
          <thead style="background: #1a3e6e; color: white;">
            <tr>
              <th style="padding: 10px;">Stock Name ·êØ</th>
              <th style="padding: 10px;">Advisor</th>
              <th style="padding: 10px;">Broker</th>
              <th style="padding: 10px;">Quantity</th>
              <th style="padding: 10px;">Buy Price</th>
              <th style="padding: 10px;">Total Amt</th>
              <th style="padding: 10px;">Order Type</th>
              <th style="padding: 10px;">Status</th>
            </tr>
          </thead>
        <tbody>
          {% for order in page_obj %}
            <tr style="background: {% cycle '#f5f9ff' 'white' %};">
              <td style="padding: 10px;">{{ order.stock.company_name }}</td>
              <td>
                  {% if order.advisor %}
                    {{ order.advisor.name }}
                  {% else %}
                    Others
                  {% endif %}
              </td>
              <td>
                  {% if order.broker %}
                    {{ order.broker.name }}
                  {% else %}
                    N/A
                  {% endif %}
              </td>
              <td>{{ order.quantity }}</td>
              <td>{{ order.price_per_share }}</td>
              <td>{{ order.total_amount }}</td>
              <td>{{ order.order_type|title }}</td>
              <td style="color:
                  {% if order.status == 'Completed' %}green
                  {% elif order.status == 'Processing' %}orange
                  {% elif order.status == 'Cancel' %}red
                  {% else %}#cc6600{% endif %};">
                {{ order.status }}
              </td>
            </tr>
          {% empty %}
            <tr><td colspan="8">No buy orders found.</td></tr>
          {% endfor %}
        </tbody>

        </table>

        <div style="margin-top: 20px; text-align: right;">
          {% if page_obj.has_previous %}
            <a href="?page=1{% if search_query %}&search={{ search_query }}{% endif %}">&laquo; First</a>
            <a href="?page={{ page_obj.previous_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}">Previous</a>
          {% endif %}

          <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

          {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}">Next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}{% if search_query %}&search={{ search_query }}{% endif %}">Last &raquo;</a>
          {% endif %}
        </div>

      </div>
    <!-- </div> -->
{% endblock %}